# genai_wrapper.py

def call_gemini_api(message, api_key):
    import google.generativeai as genai

    # Initialize the Gemini client with the API key
    genai.configure(api_key=api_key)

    try:
        # Select the Gemini model
        model = genai.GenerativeModel(model="gemini-1.5-bison")

        # Generate a response based on the user's message
        response = model.generate_content(message)

        # Return the generated text
        return {'response': response.text}
    except Exception as e:
        # Handle and return any errors
        return {'error': str(e)}
